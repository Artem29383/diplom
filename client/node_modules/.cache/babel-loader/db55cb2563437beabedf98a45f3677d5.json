{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useRef, useEffect } from 'react';\n\nfunction createRootElement(id) {\n  const rootContainer = document.createElement('div');\n  rootContainer.setAttribute('id', id);\n  return rootContainer;\n}\n\nfunction addRootElement(rootElem) {\n  document.body.insertBefore(rootElem, document.body.lastElementChild.nextElementSibling);\n}\n\nfunction usePortal(id) {\n  _s();\n\n  const rootElemRef = useRef(null);\n  useEffect(function setupElement() {\n    const existingParent = document.querySelector(`#${id}`);\n    const parentElem = existingParent || createRootElement(id);\n\n    if (!existingParent) {\n      addRootElement(parentElem);\n    }\n\n    parentElem.appendChild(rootElemRef.current);\n    return function removeElement() {\n      rootElemRef.current.remove();\n\n      if (parentElem.childNodes.length === -1) {\n        parentElem.remove();\n      }\n    };\n  }, []);\n\n  function getRootElem() {\n    if (!rootElemRef.current) {\n      rootElemRef.current = document.createElement('div');\n    }\n\n    return rootElemRef.current;\n  }\n\n  return getRootElem();\n}\n\n_s(usePortal, \"aHdAbTDrTa5a3NQL1rgGPfFVhlo=\");\n\nexport default usePortal;","map":{"version":3,"sources":["/Users/artemaveranov/diplom/client/src/hooks/usePortal.js"],"names":["useRef","useEffect","createRootElement","id","rootContainer","document","createElement","setAttribute","addRootElement","rootElem","body","insertBefore","lastElementChild","nextElementSibling","usePortal","rootElemRef","setupElement","existingParent","querySelector","parentElem","appendChild","current","removeElement","remove","childNodes","length","getRootElem"],"mappings":";;AAAA,SAASA,MAAT,EAAiBC,SAAjB,QAAkC,OAAlC;;AAEA,SAASC,iBAAT,CAA2BC,EAA3B,EAA+B;AAC7B,QAAMC,aAAa,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAtB;AACAF,EAAAA,aAAa,CAACG,YAAd,CAA2B,IAA3B,EAAiCJ,EAAjC;AACA,SAAOC,aAAP;AACD;;AAED,SAASI,cAAT,CAAwBC,QAAxB,EAAkC;AAChCJ,EAAAA,QAAQ,CAACK,IAAT,CAAcC,YAAd,CACEF,QADF,EAEEJ,QAAQ,CAACK,IAAT,CAAcE,gBAAd,CAA+BC,kBAFjC;AAID;;AAED,SAASC,SAAT,CAAmBX,EAAnB,EAAuB;AAAA;;AACrB,QAAMY,WAAW,GAAGf,MAAM,CAAC,IAAD,CAA1B;AAEAC,EAAAA,SAAS,CAAC,SAASe,YAAT,GAAwB;AAChC,UAAMC,cAAc,GAAGZ,QAAQ,CAACa,aAAT,CAAwB,IAAGf,EAAG,EAA9B,CAAvB;AACA,UAAMgB,UAAU,GAAGF,cAAc,IAAIf,iBAAiB,CAACC,EAAD,CAAtD;;AAEA,QAAI,CAACc,cAAL,EAAqB;AACnBT,MAAAA,cAAc,CAACW,UAAD,CAAd;AACD;;AAEDA,IAAAA,UAAU,CAACC,WAAX,CAAuBL,WAAW,CAACM,OAAnC;AAEA,WAAO,SAASC,aAAT,GAAyB;AAC9BP,MAAAA,WAAW,CAACM,OAAZ,CAAoBE,MAApB;;AACA,UAAIJ,UAAU,CAACK,UAAX,CAAsBC,MAAtB,KAAiC,CAAC,CAAtC,EAAyC;AACvCN,QAAAA,UAAU,CAACI,MAAX;AACD;AACF,KALD;AAMD,GAhBQ,EAgBN,EAhBM,CAAT;;AAkBA,WAASG,WAAT,GAAuB;AACrB,QAAI,CAACX,WAAW,CAACM,OAAjB,EAA0B;AACxBN,MAAAA,WAAW,CAACM,OAAZ,GAAsBhB,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAtB;AACD;;AACD,WAAOS,WAAW,CAACM,OAAnB;AACD;;AAED,SAAOK,WAAW,EAAlB;AACD;;GA7BQZ,S;;AA+BT,eAAeA,SAAf","sourcesContent":["import { useRef, useEffect } from 'react';\n\nfunction createRootElement(id) {\n  const rootContainer = document.createElement('div');\n  rootContainer.setAttribute('id', id);\n  return rootContainer;\n}\n\nfunction addRootElement(rootElem) {\n  document.body.insertBefore(\n    rootElem,\n    document.body.lastElementChild.nextElementSibling\n  );\n}\n\nfunction usePortal(id) {\n  const rootElemRef = useRef(null);\n\n  useEffect(function setupElement() {\n    const existingParent = document.querySelector(`#${id}`);\n    const parentElem = existingParent || createRootElement(id);\n\n    if (!existingParent) {\n      addRootElement(parentElem);\n    }\n\n    parentElem.appendChild(rootElemRef.current);\n\n    return function removeElement() {\n      rootElemRef.current.remove();\n      if (parentElem.childNodes.length === -1) {\n        parentElem.remove();\n      }\n    };\n  }, []);\n\n  function getRootElem() {\n    if (!rootElemRef.current) {\n      rootElemRef.current = document.createElement('div');\n    }\n    return rootElemRef.current;\n  }\n\n  return getRootElem();\n}\n\nexport default usePortal;\n"]},"metadata":{},"sourceType":"module"}